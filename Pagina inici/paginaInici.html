<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mystic Barrel</title>
    <!-- Tipografías elegantes: Playfair Display (títulos) y Inter (texto) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <!-- Hoja de estilos principal -->
    <link rel="stylesheet" href="paginaInici.css" />
  </head>
  <body>
    <!--
      Header principal con diseño horizontal (izquierda a derecha):
      - Marca "Mystic Barrel"
      - Menú de navegación: Tienda, Historia, Merch
      - Buscador con placeholder "Buscar whisky…" e ícono de lupa
      - Botón/ícono de usuario al final que abre un menú (Login/Registro) y un panel lateral
    -->
    <header class="site-header">
      <a href="paginaInici.html" class="brand" aria-label="Mystic Barrel">Mystic Barrel</a>

      <nav class="main-nav" aria-label="Navegación primaria">
        <a href="../Tienda/tienda.html" class="nav-link">Tienda</a>
        <a href="../Merch/merch.html" class="nav-link">Merch</a>
      </nav>

      <form class="search" role="search" aria-label="Buscar">
        <span class="search-icon" aria-hidden="true">
          <!-- Ícono de lupa (SVG) -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/>
            <line x1="16.65" y1="16.65" x2="21" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </span>
        <input
          type="search"
          name="q"
          class="search-input"
          placeholder="Buscar whisky…"
          aria-label="Buscar whisky"
        />
      </form>

      <button
        class="user-btn"
        id="userButton"
        aria-label="Abrir opciones de usuario"
        aria-haspopup="menu"
        aria-expanded="false"
      >
        <!-- Ícono de usuario (SVG) -->
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
          <path d="M4 20c0-4 4-6 8-6s8 2 8 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <!-- Menú desplegable de usuario -->
      <div class="user-menu" id="userMenu" role="menu" aria-label="Opciones de usuario" hidden>
        <button class="user-menu-item" role="menuitem" data-action="login">Iniciar sesión</button>
        <button class="user-menu-item" role="menuitem" data-action="register">Registrarse</button>
      </div>
    </header>

    <!-- Overlay reutilizado para panel lateral -->
    <div class="modal-overlay" id="auth-overlay" hidden></div>

    <!-- Panel lateral deslizante -->
    <aside class="side-panel" id="sidePanel" role="dialog" aria-modal="true" aria-labelledby="panel-title" hidden>
      <div class="panel-header">
        <h2 id="panel-title" class="panel-title">Cuenta</h2>
        <button class="panel-close" id="panelCloseBtn" aria-label="Cerrar">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M6 6l12 12M6 18L18 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="panel-content" id="panelContent" aria-live="polite">
        <!-- Contenido dinámico (login/register) -->
      </div>
    </aside>

    <main>
      <section class="carousel-container">
        <div id="carouselExample" class="carousel slide">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src= ImagenCarrusel1.png class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src= foto2Carrousel.png class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="..." class="d-block w-100" alt="...">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </section>
    </main>


    <!-- Fallbacks embebidos para panel (usados si fetch falla con file://) -->
    <template id="tpl-login">
      <!-- Fragmento: Formulario de inicio de sesión (aparente) -->
      <section class="auth-section">
        <form class="auth-form" aria-label="Formulario de inicio de sesión" onsubmit="return false;">
          <div class="field">
            <label for="login-email">Email</label>
            <input id="login-email" name="email" type="email" placeholder="tu@email.com" required />
          </div>
          <div class="field">
            <label for="login-password">Contraseña</label>
            <input id="login-password" name="password" type="password" placeholder="••••••••" required />
          </div>
          <div class="form-meta">
            <label class="checkbox">
              <input type="checkbox" />
              <span>Recuérdame</span>
            </label>
            <a href="#" class="link">¿Olvidaste tu contraseña?</a>
          </div>
          <button class="btn btn-primary" type="button" aria-disabled="true">Entrar</button>
        </form>
      </section>
    </template>

    <template id="tpl-register">
      <!-- Fragmento: Formulario de registro (aparente) -->
      <section class="auth-section">
        <form class="auth-form" aria-label="Formulario de registro" onsubmit="return false;">
          <div class="field">
            <label for="reg-name">Nombre</label>
            <input id="reg-name" name="name" type="text" placeholder="Tu nombre" required />
          </div>
          <div class="field">
            <label for="reg-email">Email</label>
            <input id="reg-email" name="email" type="email" placeholder="tu@email.com" required />
          </div>
          <div class="field">
            <label for="reg-password">Contraseña</label>
            <input id="reg-password" name="password" type="password" placeholder="••••••••" required />
          </div>
          <div class="field">
            <label for="reg-password2">Repetir contraseña</label>
            <input id="reg-password2" name="password2" type="password" placeholder="••••••••" required />
          </div>
          <label class="checkbox">
            <input type="checkbox" required />
            <span>Acepto los términos y condiciones</span>
          </label>
          <button class="btn btn-primary" type="button" aria-disabled="true">Crear cuenta</button>
        </form>
      </section>
    </template>

    <!-- Script principal para interacción del modal -->
    <script src="../busquedaLogin.js"></script>
    <script src="paginaInici.js"></script>
  </body>
</html>
